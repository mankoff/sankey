
* Table of contents                               :toc_2:noexport:
- [[#introduction][Introduction]]
- [[#mass-flow-values][Mass flow values]]
  - [[#greenland-baseline][Greenland baseline]]
  - [[#antarctica-baseline][Antarctica baseline]]
- [[#methods][Methods]]
- [[#results][Results]]

* Introduction

Sankey diagram for Greenland and Antarctica.

Uses scripts and CSVs to automate generation to support graphics for different years, models, etc.

* Mass flow values
** Greenland baseline

#+BEGIN_SRC bash :exports results
cat ./dat/gl_baseline.csv
#+END_SRC

#+RESULTS:
| Label  | Description           | Value | cite_key           |
| DR     | Drift                 |   200 |                    |
| RFZ    | Refreeze (after melt) |   100 | reijmer_2012       |
| SF     | Snowfall              |   800 |                    |
| RF     | Rainfall              |    30 |                    |
| RF-LIQ | Rainfall runoff       |    50 |                    |
| CD     | Condensation          |    30 |                    |
| DP     | Deposition            |    20 |                    |
| FRET   | Frontal retreat       |    50 | kochtitzky_2023    |
| SU     | Sublimation           | 24+16 | lenaerts_2012      |
| RU     | Runoff                |   500 |                    |
| DYN    | Dynamics              |   500 | mankoff_2020_solid |
| ICE    | Icebergs              |   250 | enderlin_2013      |
| SUB    | Submarine melt        |   250 | enderlin_2013      |
| EV     | Evaporation           |    35 |                    |
| BM     | Basal melt            |    25 | karlsson_2021      |

** Antarctica baseline

#+BEGIN_SRC bash :exports both
cat ./dat/aq_baseline.csv
#+END_SRC

#+RESULTS:
| Label  | Description           | Value | Reference                                |
| DR     | Drift                 |     0 |                                          |
| RFZ    | Refreeze (after melt) |   150 | MAR                                      |
| SF     | Snowfall              |  2925 | MAR                                      |
| RF     | Rainfall              |    14 | MAR                                      |
| RF-LIQ | Rainfall runoff       |     0 |                                          |
| CD     | Condensation          |    10 |                                          |
| DP     | Deposition            |    10 |                                          |
| FRET   | Frontal retreat       |   100 |                                          |
| SU     | Sublimation           |   164 | MAR                                      |
| RU     | Runoff                |    25 | MAR                                      |
| DYN    | Dynamics              |  2300 | rignot_2019                              |
| ICE    | Icebergs              |  1150 | Half of 2300                             |
| SUB    | Submarine melt        |  1150 | Half of 2300                             |
| EV     | Evaporation           |    10 |                                          |
| BM     | Basal melt            |   250 | 10 x Greenland b/c Antarctica is 10 area |

* Methods

+ Any number of CSV files containing the variables (and other values) shown above can be placed in the dat folder. See [[./dat/README.org]] for details
+ Running =make= will then generate a Sankey diagram for each CSV file by injecting the variables into a template

* Results

#+BEGIN_SRC bash :exports results :results verbatim :results none
convert -density 120 -background white -alpha remove -trim fig/gl_baseline.pdf greenland.png
#+END_SRC

[[./greenland.png]]

